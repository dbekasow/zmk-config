#define STR(s) #s
#define ADAPT(NAME, DEFAULT, ANTE, RESULT, ...)       \
    ad_##NAME: adaptive_##NAME {                      \
        compatible = "zmk,behavior-antecedent-morph"; \
        label = STR(ADAPTIVE_##NAME);                 \
        #binding-cells = <0>;                         \
        defaults = <DEFAULT>;                         \
        antecedents = <ANTE>;                         \
        bindings = <RESULT>;                          \
        max-delay-ms = <250>;                         \
	   __VA_ARGS__                                    \
    };

/* Vokal-Adaptives */
ADAPT(a_hmi, &hmi LSHFT DE_A, DE_COMMA DE_SEMI,  &kp DE_U)   // A[,;] -> AU
ADAPT(u,     &kp DE_U,        DE_MINUS DE_UNDER, &kp DE_A)   // U[-_] -> UA
ADAPT(e_hmm, &hmm LCTRL DE_E, DE_COMMA DE_SEMI,  &kp DE_O)   // E[,;] -> EO
ADAPT(o,     &kp DE_O,        DE_MINUS DE_UNDER, &kp DE_E)   // O[-_] -> OE

/* M/L Transformation */
ADAPT(m, &kp DE_M, DE_G DE_J, &kp DE_L &kp DE_B)         // MG -> ML | MJ -> MB

/* B-Adaptives */
ADAPT(b, &kp DE_B, DE_L, &kp DE_M)                       // BL -> BM 
